<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/images/favicon.png">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <title>{% if page.title %}{{ page.title | append: ' | ' | append: site.title }}{% else %}{{ site.title | escape }}{% endif %}</title>
    <!--[if lte IE 8]><script src="{{ '/js/ie/html5shiv.js' | prepend: site.baseurl }}"></script><![endif]-->
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
    <link rel="stylesheet" href="{{ '/css/main.css' | prepend: site.baseurl }}" />
    <!--[if lte IE 8]><link rel="stylesheet" href="{{ '/css/ie8.css' | prepend: site.baseurl }}" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="{{ '/css/ie9.css' | prepend: site.baseurl }}" /><![endif]-->
    <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | prepend: site.baseurl | prepend: site.url }}">
    {% if site.google_analytics and jekyll.environment == 'production' %}
    {% include analytics.html %}
    {% endif %}

    <!--Custom SEO-->
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title | escape }}{% endif %}">
    <meta property="og:type" content="website">
    <meta name="description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
    <meta property="og:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
    <meta property="og:url" content="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
    <meta property="og:site_name" content="{{ site.title }}">
    <meta property="og:image" content="{% if page.image %}{{ page.image | prepend: site.baseurl | prepend: site.url }}{% else %}{{ site.logo | prepend: site.baseurl | prepend: site.url }}{% endif %}">
    <meta property="og:locale" content="{{ site.lang }}" />

    <meta name="twitter:image" content="{% if page.image %}{{ page.image | prepend: site.baseurl | prepend: site.url }}{% else %}{{ site.logo | prepend: site.baseurl | prepend: site.url }}{% endif %}">
    <meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta name="twitter:description" content="{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@robertopreste">
    <meta name="twitter:creator" content="@robertopreste">

    <script type="application/ld+json">
        {
            "@context":"http://schema.org",
            "@type": "WebPage",
            "name": "{% if page.title %}{{ page.title }}{% else %}{{ site.title | escape }}{% endif %}",
            "description": "{% if page.description %}{{ page.description | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}",
            "author": {"@type": "Person",
                       "name": "{{ site.owner }}"},
            "url": "{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}",
            "publisher": {"@type": "Person",
                          "image": {"@type": "ImageObject",
                                    "url": "{{ site.logo | prepend: site.baseurl | prepend: site.url }}"},
                          "name": "{{ site.owner }}"},
            "image": "{% if page.image %}{{ page.image | prepend: site.baseurl | prepend: site.url }}{% else %}{{ site.logo | prepend: site.baseurl | prepend: site.url }}{% endif %}",
            "headline": "{% if page.title %}{{ page.title }}{% else %}{{ site.title | escape }}{% endif %}"
        }
    </script>
</head>
